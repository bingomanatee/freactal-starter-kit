<html>
<head>
    <script language="JavaScript">
      function restart(event) {
        fetch(new Request('runner/reload'));
        event.preventDefault();
      }
      function reloadWindow(event) {
        document.location.reload();
        event.preventDefault();
      }
      function stop(event) {
        fetch(new Request('runner/stop'));
        event.preventDefault();
        document.getElementById('stop-button').disabled = true;
        document.getElementById('restart-button').disabled = true;
        document.getElementById('stop-message').innerHTML = '<hr />' +
          '<h2 style="color: red">YOUR ADMIN SERVER IS TERMINATED.</h2>' +
          '<p>None of these buttons will work unless you re-launch the runner process.</p>' +
          '<p>This window will no longer work until you restart your runner from the command line' +
          ' and press this button: <button type="button" onClick="reloadWindow(event)">Reload Admin UI</button> </p>'
      }
    </script>
</head>
<body>
<article>
    <h1>App Runner</h1>
    <p>
        The App Runner launches your dev server for developing code in the Freactal Starter Kit.
        It allows running file-changing scripts from the admin layer of FSK to add to your site.
    </p>
    <p>
        Note, when the App Runner serves a FSK site hot module loading is NOT enabled; you will
        have to manually restart the UI App using the link below (and in some cases reload the browser page)
        to reflect changes. note the &quot;UI App&quot; in this case refers to the FSK react app,
        not the App Runner itself.
    </p>
</article>

<nav>
    <button id="restart-button" type="button" onClick="restart(event)">Start or Restart UI App</button>
    |
    <button id="stop-button" type="button" onClick="stop(event)">Stop</button>
    |
    <a href="http://localhost:5000" target="webapp"><b>View Local React Application</b></a>
</nav>

<p id="stop-message"></p>
</body>
</html>
